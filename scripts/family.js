///性别比

var areaData = [{
    name: '渝中区',
    value: 109,

},
    {
        name: '万州区',
        value: 109,
    },
    {
        name: '涪陵区',
        value: 109
    },
    {
        name: '大渡口区',
        value: 109
    },
    {
        name: '江北区',
        value: 109
    },
    {
        name: "璧山区",
        value: 109
    },
    {
        name: '沙坪坝区',
        value: 109
    },
    {
        name: '九龙坡区',
        value: 109
    },
    {
        name: '南岸区',
        value: 109
    },
    {
        name: '北碚区',
        value: 109
    },
    {
        name: '綦江区',
        value: 109
    },
    {
        name: '巫山县',
        value: 109
    },
    {
        name: '大足区',
        value: 109
    },
    {
        name: '渝北区',
        value: 109
    },
    {
        name: '巴南区',
        value: 109
    },
    {
        name: '黔江区',
        value: 109
    },
    {
        name: '长寿区',
        value: 109
    },
    {
        name: '江津区',
        value: 109
    },
    {
        name: '合川区',
        value: 109
    },
    {
        name: '永川区',
        value: 109
    },
    {
        name: '南川区',
        value: 109
    },
    {
        name: '铜梁区',
        value: 109
    },
    {
        name: '潼南区',
        value: 123
    },
    {
        name: '荣昌区',
        value: 111
    },
    {
        name: '开州区',
        value: 109
    },
    {
        name: '梁平区',
        value: 89
    },
    {
        name: '武隆区',
        value: 109
    },
    {
        name: '城口县',
        value: 109
    },
    {
        name: '丰都县',
        value: 145
    },
    {
        name: '垫江县',
        value: 109
    },
    {
        name: '忠县',
        value: 109
    },
    {
        name: '云阳县',
        value: 109
    },
    {
        name: '奉节县',
        value: 109
    },
    {
        name: '巫山县',
        value: 189
    },
    {
        name: '巫溪县',
        value: 109
    },
    {
        name: '石柱土家族自治县',
        value: 109
    },
    {
        name: '秀山土家族苗族自治县',
        value: 109
    },
    {
        name: '酉阳土家族苗族自治县',
        value: 109
    },
    {
        name: '彭水苗族土家族自治县',
        value: 109
    }

];
/**
 * 时间轴数据
 */
var arr = [2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024];

/***
 *   家庭类型数据
 */
var FamilyTye = [
    {
        name: "核心家庭",
        value: 56.5
    },
    {
        name: "直系家庭",
        value: 20.5
    },
    {
        name: "单人家庭",
        value: 6.4
    },
    {
        name: "联合家庭",
        value: 12.3
    },
    {
        name: "单亲家庭",
        value: 4.3
    }
]
/***
 * 家庭规模数据
 */
var data = [{
    'name': '一人户',
    'value': 11.3
},
    {
        'name': '二人户',
        'value': 14.3
    },
    {
        'name': '三人户',
        'value': 24.5
    },
    {
        'name': '四人户',
        'value': 30.5
    },
    {
        'name': '多人户',
        'value': 19.4
    }
]
// 页面信息
var msg = {
    totalAverage: "2.25",
    maleRate: "52.2%",
    femaleRate: "47.8%",
    genderRateMsg: "108：100"
}

/***
 *
 * 新生儿人口数与性别比
 * // 各区县的数据，在这里填   有实际数据时候 删除这部分 重新调用方法
 *
 * 性别比 直接返回分子,显示的时候处理  比如109:100 返回格式是
 * {
 *  name: '渝中区',
 *  value:109
 * }
 var areaData = [{
    name: '渝中区',
    value: 1.2,

},
 {
        name: '万州区',
        value: 4.12,
    },
 {
        name: '涪陵区',
        value: 9.8
    },
 {
        name: '大渡口区',
        value: 2.36
    },
 {
        name: '江北区',
        value: 4
    },
 {
        name: "璧山区",
        value: 4.1
    },
 {
        name: '沙坪坝区',
        value: 5.9
    },
 {
        name: '九龙坡区',
        value: 6.9
    },
 {
        name: '南岸区',
        value: 9
    },
 {
        name: '北碚区',
        value: 5.6
    },
 {
        name: '綦江区',
        value: 6.9
    },
 {
        name: '巫山县',
        value: 5.9
    },
 {
        name: '大足区',
        value: 3.9
    },
 {
        name: '渝北区',
        value: 1.69
    },
 {
        name: '巴南区',
        value: 2.69
    },
 {
        name: '黔江区',
        value: 1.69
    },
 {
        name: '长寿区',
        value: 9
    },
 {
        name: '江津区',
        value: 5.9
    },
 {
        name: '合川区',
        value: 2.9
    },
 {
        name: '永川区',
        value: 6.9
    },
 {
        name: '南川区',
        value: 5.9
    },
 {
        name: '铜梁区',
        value: 9
    },
 {
        name: '潼南区',
        value: 2
    },
 {
        name: '荣昌区',
        value: 5
    },
 {
        name: '开州区',
        value: 6.9
    },
 {
        name: '梁平区',
        value: 9
    },
 {
        name: '武隆区',
        value: 3.22
    },
 {
        name: '城口县',
        value: 5.9
    },
 {
        name: '丰都县',
        value: 5.9
    },
 {
        name: '垫江县',
        value: 5.9
    },
 {
        name: '忠县',
        value: 6.9
    },
 {
        name: '云阳县',
        value: 9
    },
 {
        name: '奉节县',
        value: 6.9
    },
 {
        name: '巫山县',
        value: 3.2
    },
 {
        name: '巫溪县',
        value: 3
    },
 {
        name: '石柱土家族自治县',
        value: 1.5
    },
 {
        name: '秀山土家族苗族自治县',
        value: 1.11
    },
 {
        name: '酉阳土家族苗族自治县',
        value: 6.9
    },
 {
        name: '彭水苗族土家族自治县',
        value: 3.69
    }

 ];
 * @param data
 */
function loadFamilyChart(data, data2) {

    // 各区县的经纬度坐标，不要乱动

    var geoCoordMap = {
        '渝中区': [106.56288, 29.556742],
        '万州区': [108.380246, 30.807807],
        '涪陵区': [107.394905, 29.703652],
        '大渡口区': [106.48613, 29.481002],
        '江北区': [106.532844, 29.575352],
        '沙坪坝区': [106.4542, 29.541224],
        '九龙坡区': [106.364269, 29.428456],
        '南岸区': [106.560813, 29.523992],
        '北碚区': [106.437868, 29.82543],
        '綦江区': [106.651417, 29.028091],
        '大足区': [105.715319, 29.700498],
        '渝北区': [106.512851, 29.601451],
        '巴南区': [106.519423, 29.381919],
        '黔江区': [108.782577, 29.527548],
        '长寿区': [107.074854, 29.833671],
        '江津区': [106.253156, 29.283387],
        '合川区': [106.265554, 29.990993],
        '永川区': [105.894714, 29.348748],
        '南川区': [107.098153, 29.156646],
        '璧山区': [106.231126, 29.593581],
        '铜梁区': [106.054948, 29.839944],
        '潼南区': [105.841818, 30.189554],
        '荣昌区': [105.594061, 29.403627],
        '开州区': [108.413317, 31.167735],
        '梁平区': [107.800034, 30.672168],
        '武隆区': [107.75655, 29.32376],
        '城口县': [108.6649, 31.946293],
        '丰都县': [107.73248, 29.866424],
        '垫江县': [107.348692, 30.330012],
        '忠县': [108.037518, 30.291537],
        '云阳县': [108.697698, 30.930529],
        '奉节县': [109.465774, 31.019967],
        '巫山县': [109.878928, 31.074843],
        '巫溪县': [109.628912, 31.3966],
        '石柱土家族自治县': [108.112448, 29.99853],
        '秀山土家族苗族自治县': [108.996043, 28.444772],
        '酉阳土家族苗族自治县': [108.767201, 28.839828],
        '彭水苗族土家族自治县': [108.166551, 29.293856]
    }
    var convertData = function (data) {
        var res = []
        for (var i = 0; i < data.length; i++) {
            var geoCoord = geoCoordMap[data[i].name]
            if (geoCoord) {
                res.push({
                    name: data[i].name,
                    value: geoCoord.concat(data[i].value),
                    //selected: data[i].selected
                })
            }
        }
        return res
    }
    var dealData = convertData(data)//dealDataFn(convertData(data));
    //var dealData2 =convertData(data2);
    var thatYearRateChart = echarts.init(document.getElementById('familyChart'))
    thatYearRateChart.showLoading()
    data.sort(function (a, b) {
        return b.value - a.value
    })
    $.getJSON('../json/chongqing.json', function (json) {
        echarts.registerMap('chongqing', json)
        var option = {
            color: ['#318095', '#254751', '#1F3D45'],
           // backgroundColor: '#0E171F',
            tooltip: {
                trigger: 'item',
                formatter: function (params) {
                    //console.log(params)
                    return params.name + ' : ' +
                        "<br>" + '新生儿性别比:' + params.data.value[2] + ":100";
                }
            }, visualMap: [

                {
                    type: "continuous",
                    show: true,
                    textStyle: {
                        color: "#5891A2",
                        fontWeight: "400",
                        fontFamily: "MicrosoftYaHei",
                        fontSize: "12px"
                    },
                    min: data[data.length - 1].value,
                    max: data[0].value,
                    right: '100',
                    bottom: '180',
                    text: ['新生儿人性别比', ''], // 文本，默认为数值文本
                    calculable: true,
                    seriesIndex: [0],
                    inRange: {
                        color: ['#318095', '#254751', '#1F3D45'] // 黑紫黑

                    },
                    formatter: function (value) { //标签的格式化工具。
                        var str;
                        if (value.length >= 4) {
                            str = Math.round(value / 10000) + '万人'
                        } else {
                            str = Math.round(value)
                        }
                        return str; // 范围标签显示内容。

                    }
                }
                // {
                //     type: "continuous",
                //     show: true,
                //     textStyle: {
                //         color: "#5891A2",
                //         fontWeight: "400",
                //         fontFamily: "MicrosoftYaHei",
                //         fontSize: "12px"
                //     },
                //     min:data2[data.length-1].value,
                //     max:data2[0].value,
                //     right: '100',
                //     bottom: '80',
                //     text: ['新生儿性别比', ''], // 文本，默认为数值文本
                //     calculable: true,
                //     seriesIndex: [1],
                //     inRange: {
                //         color: ['#318095', '#254751', '#1F3D45'] // 黑紫黑
                //
                //     },
                //     formatter: function (value) { //标签的格式化工具。
                //         var str;
                //         if (value.length >= 4) {
                //             str = Math.round(value / 10000) + '万人'
                //         } else {
                //             str = Math.round(value)
                //         }
                //         return str; // 范围标签显示内容。
                //
                //     }
                // },

            ],
            series: [{
                type: "map",
                map: "chongqing",
                name: "当年新生儿人口数",
                label: {
                    normal: {
                        formatter: function (param) {
                            return param.data.value[2] + ":100"
                        },
                        position: 'right',
                        show: true,
                        color: "#FFD750",
                        width: 100,
                        height: 30,
                        borderColor: "#FFD750",
                        borderWidth: 1,
                        borderRadius: 5,
                        padding: 5
                    },
                    emphasis: {
                        show: true,
                        color: "#FFD750"
                    },

                },
                data: dealData,
                roam: true,
                itemStyle: {
                    normal: {
                        areaColor: '#318095',
                        borderColor: '#489099',
                    }
                    ,
                    emphasis: {
                        areaColor: '#123841',
                        show: false
                    }
                }
            }]
        }
        thatYearRateChart.hideLoading()
        thatYearRateChart.setOption(option)
    })
}

//// 时间轴方法
function timelineHandle(arr) {
    var htmlarr = [];
    for (var i = 0; i < arr.length; i++) {
        var str = `<li>${arr[i]}</li>`;
        htmlarr.push(str)
    }
    $(".timeline").html(htmlarr.join(""))
    $(".timeline").off("click", "li").on("click", "li", function () {
        $(this).siblings("li").removeClass("active")
        $(this).addClass('active');
        var name = $(this).text();
        chartReLoad()   //rateChart

    })
    $(".timeline").find("li").eq(0).trigger("click")
}

/**
 * 家庭规模
 *
 * @param obj
 */
function loadageFamilyTotalChart(obj) {
    var agechart = echarts.init(document.getElementById('familyTotalChart'))
    var option = {
        color: ['#D06D37', '#C89340', '#774BD4', '#3A5BD5', '#4296A7'],
        tooltip: {
            trigger: 'item',
            formatter: function (parms) {
                //console.log(parms)
                return parms.data.name + "：<br>" + parms.data.value + "%"
            }
        },
        legend: {
            orient: 'vertical',
            // left: '55%',,
            right: '20%',

            align: 'left',
            top: 'middle',
            textStyle: {
                color: '#5FF2DF',
                fontSize: '16'
            },
            data: obj,
        },
        series: [{
            name: '年龄结构',
            type: 'pie',
            center: ['35%', '50%'],
            radius: ['40%', '65%'],
            clockwise: false, // 饼图的扇区是否是顺时针排布
            avoidLabelOverlap: true,
            label: {
                normal: {
                    show: true,
                    position: 'inner',
                    formatter: function (parms) {
                        return parms.data.value + "%"
                    },
                }
            },
            data: obj
        }]
    }
    agechart.setOption(option)
}

/***
 *  家庭类型
 * @param obj
 */
function loadFamilyTypeChart(obj) {
    var arr = obj.slice();
    arr.sort(function (a, b) {

        return a.value - b.value
    });
    var xarr = [], yarr = [];
    for (var i = 0; i < obj.length; i++) {
        xarr.push(obj[i].name);
        yarr.push(obj[i].value)
    }
    var chart = echarts.init(document.getElementById("familyTypeChart"));
    var option = {
        color: ['#D06D37', '#C89340', '#774BD4', '#3A5BD5', '#4296A7'],
        tooltip: {
            trigger: 'item',
            formatter: function (parms) {
                //console.log(parms)
                return parms.data.name + "：<br>" + parms.data.value + "%"
            }
        },
        legend: {
            orient: 'vertical',
            right: "0",


            align: 'left',
            top: 'middle',
            textStyle: {
                color: '#5FF2DF',
                fontSize: '16'
            },
            data: obj,
        },
        series: [{
            name: '年龄结构',
            type: 'pie',
            //center: ['35%', '50%'],
            //radius: ['40%', '65%'],
            clockwise: true, // 饼图的扇区是否是顺时针排布
            avoidLabelOverlap: true,
            label: {
                normal: {
                    show: true,
                    position: 'inner',
                    formatter: function (parms) {
                        return parms.data.value + "%"
                    },
                }
            },
            data: obj
        }]
    }
    chart.setOption(option)
}

/**
 *   设置页面数据
 *   包括：
 *   1.家庭规模title
 *   2.新生儿性别比
 *   数据格式:
 *   {
    totalAverage:"2.25",
    maleRate:"52.2%",
    femaleRate:"47.8%",
    genderRateMsg:"108：100"
}
 */
function setMeg(msg) {
    $("#familyTotalAverage").empty().html(msg.totalAverage)
    $("#genderRateMale").empty().html(msg.maleRate)
    $("#genderRateFemale").empty().html(msg.femaleRate)
    $("#genderRateMsg").empty().html(msg.genderRateMsg)
}

/**
 *   孕妇年龄分布 散点图数据
 *   [161.2, 51.6]/// 前一位是年龄后一位是数量
 */
var familyAgeData={
    label:["一胎","二胎","不分胎次"],
    "one":[[161.2, 51.6], [167.5, 59.0], [159.5, 49.2], [157.0, 63.0], [155.8, 53.6],
        [170.0, 59.0], [159.1, 47.6], [166.0, 69.8], [176.2, 66.8], [160.2, 75.2],
        [172.5, 55.2], [170.9, 54.2], [172.9, 62.5], [153.4, 42.0], [160.0, 50.0],
        [147.2, 49.8], [168.2, 49.2], [175.0, 73.2], [157.0, 47.8], [167.6, 68.8],
        [159.5, 50.6], [175.0, 82.5], [166.8, 57.2], [176.5, 87.8], [170.2, 72.8],
        [174.0, 54.5], [173.0, 59.8], [179.9, 67.3], [170.5, 67.8], [160.0, 47.0],
        [154.4, 46.2], [162.0, 55.0], [176.5, 83.0], [160.0, 54.4], [152.0, 45.8],
        [162.1, 53.6], [170.0, 73.2], [160.2, 52.1], [161.3, 67.9], [166.4, 56.6],
        [168.9, 62.3], [163.8, 58.5], [167.6, 54.5], [160.0, 50.2], [161.3, 60.3],
        [167.6, 58.3], [165.1, 56.2], [160.0, 50.2], [170.0, 72.9], [157.5, 59.8],
        [167.6, 61.0], [160.7, 69.1], [163.2, 55.9], [152.4, 46.5], [157.5, 54.3],
        [168.3, 54.8], [180.3, 60.7], [165.5, 60.0], [165.0, 62.0], [164.5, 60.3],
        [156.0, 52.7], [160.0, 74.3], [163.0, 62.0], [165.7, 73.1], [161.0, 80.0],
        [162.0, 54.7], [166.0, 53.2], [174.0, 75.7], [172.7, 61.1], [167.6, 55.7],
        [151.1, 48.7], [164.5, 52.3], [163.5, 50.0], [152.0, 59.3], [169.0, 62.5],
        [164.0, 55.7], [161.2, 54.8], [155.0, 45.9], [170.0, 70.6], [176.2, 67.2],
        [170.0, 69.4], [162.5, 58.2], [170.3, 64.8], [164.1, 71.6], [169.5, 52.8],
        [163.2, 59.8], [154.5, 49.0], [159.8, 50.0], [173.2, 69.2], [170.0, 55.9],
        [161.4, 63.4], [169.0, 58.2], [166.2, 58.6], [159.4, 45.7], [162.5, 52.2],
        [159.0, 48.6], [162.8, 57.8], [159.0, 55.6], [179.8, 66.8], [162.9, 59.4],
        [161.0, 53.6], [151.1, 73.2], [168.2, 53.4], [168.9, 69.0], [173.2, 58.4],
        [171.8, 56.2], [178.0, 70.6], [164.3, 59.8], [163.0, 72.0], [168.5, 65.2],
        [166.8, 56.6], [172.7, 105.2], [163.5, 51.8], [169.4, 63.4], [167.8, 59.0],
        [159.5, 47.6], [167.6, 63.0], [161.2, 55.2], [160.0, 45.0], [163.2, 54.0],
        [162.2, 50.2], [161.3, 60.2], [149.5, 44.8], [157.5, 58.8], [163.2, 56.4],
        [172.7, 62.0], [155.0, 49.2], [156.5, 67.2], [164.0, 53.8], [160.9, 54.4],
        [162.8, 58.0], [167.0, 59.8], [160.0, 54.8], [160.0, 43.2], [168.9, 60.5],
        [158.2, 46.4], [156.0, 64.4], [160.0, 48.8], [167.1, 62.2], [158.0, 55.5],
        [167.6, 57.8], [156.0, 54.6], [162.1, 59.2], [173.4, 52.7], [159.8, 53.2],
        [170.5, 64.5], [159.2, 51.8], [157.5, 56.0], [161.3, 63.6], [162.6, 63.2],
        [160.0, 59.5], [168.9, 56.8], [165.1, 64.1], [162.6, 50.0], [165.1, 72.3],
        [166.4, 55.0], [160.0, 55.9], [152.4, 60.4], [170.2, 69.1], [162.6, 84.5],
        [170.2, 55.9], [158.8, 55.5], [172.7, 69.5], [167.6, 76.4], [162.6, 61.4],
        [167.6, 65.9], [156.2, 58.6], [175.2, 66.8], [172.1, 56.6], [162.6, 58.6],
        [160.0, 55.9], [165.1, 59.1], [182.9, 81.8], [166.4, 70.7], [165.1, 56.8],
        [177.8, 60.0], [165.1, 58.2], [175.3, 72.7], [154.9, 54.1], [158.8, 49.1],
        [172.7, 75.9], [168.9, 55.0], [161.3, 57.3], [167.6, 55.0], [165.1, 65.5],
        [175.3, 65.5], [157.5, 48.6], [163.8, 58.6], [167.6, 63.6], [165.1, 55.2],
        [165.1, 62.7], [168.9, 56.6], [162.6, 53.9], [164.5, 63.2], [176.5, 73.6],
        [168.9, 62.0], [175.3, 63.6], [159.4, 53.2], [160.0, 53.4], [170.2, 55.0],
        [162.6, 70.5], [167.6, 54.5], [162.6, 54.5], [160.7, 55.9], [160.0, 59.0],
        [157.5, 63.6], [162.6, 54.5], [152.4, 47.3], [170.2, 67.7], [165.1, 80.9],
        [172.7, 70.5], [165.1, 60.9], [170.2, 63.6], [170.2, 54.5], [170.2, 59.1],
        [161.3, 70.5], [167.6, 52.7], [167.6, 62.7], [165.1, 86.3], [162.6, 66.4],
        [152.4, 67.3], [168.9, 63.0], [170.2, 73.6], [175.2, 62.3], [175.2, 57.7],
        [160.0, 55.4], [165.1, 104.1], [174.0, 55.5], [170.2, 77.3], [160.0, 80.5],
        [167.6, 64.5], [167.6, 72.3], [167.6, 61.4], [154.9, 58.2], [162.6, 81.8],
        [175.3, 63.6], [171.4, 53.4], [157.5, 54.5], [165.1, 53.6], [160.0, 60.0],
        [174.0, 73.6], [162.6, 61.4], [174.0, 55.5], [162.6, 63.6], [161.3, 60.9],
        [156.2, 60.0], [149.9, 46.8], [169.5, 57.3], [160.0, 64.1], [175.3, 63.6],
        [169.5, 67.3], [160.0, 75.5], [172.7, 68.2], [162.6, 61.4], [157.5, 76.8],
        [176.5, 71.8], [164.4, 55.5], [160.7, 48.6], [174.0, 66.4], [163.8, 67.3]
    ],
    "two":[[174.0, 65.6], [175.3, 71.8], [193.5, 80.7], [186.5, 72.6], [187.2, 78.8],
        [181.5, 74.8], [184.0, 86.4], [184.5, 78.4], [175.0, 62.0], [184.0, 81.6],
        [180.0, 76.6], [177.8, 83.6], [192.0, 90.0], [176.0, 74.6], [174.0, 71.0],
        [184.0, 79.6], [192.7, 93.8], [171.5, 70.0], [173.0, 72.4], [176.0, 85.9],
        [176.0, 78.8], [180.5, 77.8], [172.7, 66.2], [176.0, 86.4], [173.5, 81.8],
        [178.0, 89.6], [180.3, 82.8], [180.3, 76.4], [164.5, 63.2], [173.0, 60.9],
        [183.5, 74.8], [175.5, 70.0], [188.0, 72.4], [189.2, 84.1], [172.8, 69.1],
        [170.0, 59.5], [182.0, 67.2], [170.0, 61.3], [177.8, 68.6], [184.2, 80.1],
        [186.7, 87.8], [171.4, 84.7], [172.7, 73.4], [175.3, 72.1], [180.3, 82.6],
        [182.9, 88.7], [188.0, 84.1], [177.2, 94.1], [172.1, 74.9], [167.0, 59.1],
        [169.5, 75.6], [174.0, 86.2], [172.7, 75.3], [182.2, 87.1], [164.1, 55.2],
        [163.0, 57.0], [171.5, 61.4], [184.2, 76.8], [174.0, 86.8], [174.0, 72.2],
        [177.0, 71.6], [186.0, 84.8], [167.0, 68.2], [171.8, 66.1], [182.0, 72.0],
        [167.0, 64.6], [177.8, 74.8], [164.5, 70.0], [192.0, 101.6], [175.5, 63.2],
        [171.2, 79.1], [181.6, 78.9], [167.4, 67.7], [181.1, 66.0], [177.0, 68.2],
        [174.5, 63.9], [177.5, 72.0], [170.5, 56.8], [182.4, 74.5], [197.1, 90.9],
        [180.1, 93.0], [175.5, 80.9], [180.6, 72.7], [184.4, 68.0], [175.5, 70.9],
        [180.6, 72.5], [177.0, 72.5], [177.1, 83.4], [181.6, 75.5], [176.5, 73.0],
        [175.0, 70.2], [174.0, 73.4], [165.1, 70.5], [177.0, 68.9], [192.0, 102.3],
        [176.5, 68.4], [169.4, 65.9], [182.1, 75.7], [179.8, 84.5], [175.3, 87.7],
        [184.9, 86.4], [177.3, 73.2], [167.4, 53.9], [178.1, 72.0], [168.9, 55.5],
        [157.2, 58.4], [180.3, 83.2], [170.2, 72.7], [177.8, 64.1], [172.7, 72.3],
        [165.1, 65.0], [186.7, 86.4], [165.1, 65.0], [174.0, 88.6], [175.3, 84.1],
        [185.4, 66.8], [177.8, 75.5], [180.3, 93.2], [180.3, 82.7], [177.8, 58.0],
        [177.8, 79.5], [177.8, 78.6], [177.8, 71.8], [177.8, 116.4], [163.8, 72.2],
        [188.0, 83.6], [198.1, 85.5], [175.3, 90.9], [166.4, 85.9], [190.5, 89.1],
        [166.4, 75.0], [177.8, 77.7], [179.7, 86.4], [172.7, 90.9], [190.5, 73.6],
        [185.4, 76.4], [168.9, 69.1], [167.6, 84.5], [175.3, 64.5], [170.2, 69.1],
        [190.5, 108.6], [177.8, 86.4], [190.5, 80.9], [177.8, 87.7], [184.2, 94.5],
        [176.5, 80.2], [177.8, 72.0], [180.3, 71.4], [171.4, 72.7], [172.7, 84.1],
        [172.7, 76.8], [177.8, 63.6], [177.8, 80.9], [182.9, 80.9], [170.2, 85.5],
        [167.6, 68.6], [175.3, 67.7], [165.1, 66.4], [185.4, 102.3], [181.6, 70.5],
        [172.7, 95.9], [190.5, 84.1], [179.1, 87.3], [175.3, 71.8], [170.2, 65.9],
        [193.0, 95.9], [171.4, 91.4], [177.8, 81.8], [177.8, 96.8], [167.6, 69.1],
        [167.6, 82.7], [180.3, 75.5], [182.9, 79.5], [176.5, 73.6], [186.7, 91.8],
        [188.0, 84.1], [188.0, 85.9], [177.8, 81.8], [174.0, 82.5], [177.8, 80.5],
        [171.4, 70.0], [185.4, 81.8], [185.4, 84.1], [188.0, 90.5], [188.0, 91.4],
        [182.9, 89.1], [176.5, 85.0], [175.3, 69.1], [175.3, 73.6], [188.0, 80.5],
        [188.0, 82.7], [175.3, 86.4], [170.5, 67.7], [179.1, 92.7], [177.8, 93.6],
        [175.3, 70.9], [182.9, 75.0], [170.8, 93.2], [188.0, 93.2], [180.3, 77.7],
        [177.8, 61.4], [185.4, 94.1], [168.9, 75.0], [185.4, 83.6], [180.3, 85.5],
        [174.0, 73.9], [167.6, 66.8], [182.9, 87.3], [160.0, 72.3], [180.3, 88.6],
        [167.6, 75.5], [186.7, 101.4], [175.3, 91.1], [175.3, 67.3], [175.9, 77.7],
        [175.3, 81.8], [179.1, 75.5], [181.6, 84.5], [177.8, 76.6], [182.9, 85.0],
        [177.8, 102.5], [184.2, 77.3], [179.1, 71.8], [176.5, 87.9], [188.0, 94.3],
        [174.0, 70.9], [167.6, 64.5], [170.2, 77.3], [167.6, 72.3], [188.0, 87.3],
        [174.0, 80.0], [176.5, 82.3], [180.3, 73.6], [167.6, 74.1], [188.0, 85.9],
        [180.3, 73.2], [167.6, 76.3], [183.0, 65.9], [183.0, 90.9], [179.1, 89.1],
        [170.2, 62.3], [177.8, 82.7], [179.1, 79.1], [190.5, 98.2], [177.8, 84.1],
        [180.3, 83.2], [180.3, 83.2]
    ],
    "other":[[174.0, 65.6], [175.3, 71.8], [193.5, 80.7], [186.5, 72.6], [187.2, 78.8],
        [181.5, 74.8], [184.0, 86.4], [184.5, 78.4], [175.0, 62.0], [184.0, 81.6],
        [180.0, 76.6], [177.8, 83.6], [192.0, 90.0], [176.0, 74.6], [174.0, 71.0],
        [184.0, 79.6], [192.7, 93.8], [171.5, 70.0], [173.0, 72.4], [176.0, 85.9],
        [176.0, 78.8], [180.5, 77.8], [172.7, 66.2], [176.0, 86.4], [173.5, 81.8],
        [178.0, 89.6], [180.3, 82.8], [180.3, 76.4], [164.5, 63.2], [173.0, 60.9],
        [183.5, 74.8], [175.5, 70.0], [188.0, 72.4], [189.2, 84.1], [172.8, 69.1],
        [170.0, 59.5], [182.0, 67.2], [170.0, 61.3], [177.8, 68.6], [184.2, 80.1],
        [186.7, 87.8], [171.4, 84.7], [172.7, 73.4], [175.3, 72.1], [180.3, 82.6],
        [182.9, 88.7], [188.0, 84.1], [177.2, 94.1], [172.1, 74.9], [167.0, 59.1],
        [169.5, 75.6], [174.0, 86.2], [172.7, 75.3], [182.2, 87.1], [164.1, 55.2],
        [163.0, 57.0], [171.5, 61.4], [184.2, 76.8], [174.0, 86.8], [174.0, 72.2],
        [177.0, 71.6], [186.0, 84.8], [167.0, 68.2], [171.8, 66.1], [182.0, 72.0],
        [167.0, 64.6], [177.8, 74.8], [164.5, 70.0], [192.0, 101.6], [175.5, 63.2],
        [171.2, 79.1], [181.6, 78.9], [167.4, 67.7], [181.1, 66.0], [177.0, 68.2],
        [174.5, 63.9], [177.5, 72.0], [170.5, 56.8], [182.4, 74.5], [197.1, 90.9],
        [180.1, 93.0], [175.5, 80.9], [180.6, 72.7], [184.4, 68.0], [175.5, 70.9],
        [180.6, 72.5], [177.0, 72.5], [177.1, 83.4], [181.6, 75.5], [176.5, 73.0],
        [175.0, 70.2], [174.0, 73.4], [165.1, 70.5], [177.0, 68.9], [192.0, 102.3],
        [176.5, 68.4], [169.4, 65.9], [182.1, 75.7], [179.8, 84.5], [175.3, 87.7],
        [184.9, 86.4], [177.3, 73.2], [167.4, 53.9], [178.1, 72.0], [168.9, 55.5],
        [157.2, 58.4], [180.3, 83.2], [170.2, 72.7], [177.8, 64.1], [172.7, 72.3],
        [165.1, 65.0], [186.7, 86.4], [165.1, 65.0], [174.0, 88.6], [175.3, 84.1],
        [185.4, 66.8], [177.8, 75.5], [180.3, 93.2], [180.3, 82.7], [177.8, 58.0],
        [177.8, 79.5], [177.8, 78.6], [177.8, 71.8], [177.8, 116.4], [163.8, 72.2],
        [188.0, 83.6], [198.1, 85.5], [175.3, 90.9], [166.4, 85.9], [190.5, 89.1],
        [166.4, 75.0], [177.8, 77.7], [179.7, 86.4], [172.7, 90.9], [190.5, 73.6],
        [185.4, 76.4], [168.9, 69.1], [167.6, 84.5], [175.3, 64.5], [170.2, 69.1],
        [190.5, 108.6], [177.8, 86.4], [190.5, 80.9], [177.8, 87.7], [184.2, 94.5],
        [176.5, 80.2], [177.8, 72.0], [180.3, 71.4], [171.4, 72.7], [172.7, 84.1],
        [172.7, 76.8], [177.8, 63.6], [177.8, 80.9], [182.9, 80.9], [170.2, 85.5],
        [167.6, 68.6], [175.3, 67.7], [165.1, 66.4], [185.4, 102.3], [181.6, 70.5],
        [172.7, 95.9], [190.5, 84.1], [179.1, 87.3], [175.3, 71.8], [170.2, 65.9],
        [193.0, 95.9], [171.4, 91.4], [177.8, 81.8], [177.8, 96.8], [167.6, 69.1],
        [167.6, 82.7], [180.3, 75.5], [182.9, 79.5], [176.5, 73.6], [186.7, 91.8],
        [188.0, 84.1], [188.0, 85.9], [177.8, 81.8], [174.0, 82.5], [177.8, 80.5],
        [171.4, 70.0], [185.4, 81.8], [185.4, 84.1], [188.0, 90.5], [188.0, 91.4],
        [182.9, 89.1], [176.5, 85.0], [175.3, 69.1], [175.3, 73.6], [188.0, 80.5],
        [188.0, 82.7], [175.3, 86.4], [170.5, 67.7], [179.1, 92.7], [177.8, 93.6],
        [175.3, 70.9], [182.9, 75.0], [170.8, 93.2], [188.0, 93.2], [180.3, 77.7],
        [177.8, 61.4], [185.4, 94.1], [168.9, 75.0], [185.4, 83.6], [180.3, 85.5],
        [174.0, 73.9], [167.6, 66.8], [182.9, 87.3], [160.0, 72.3], [180.3, 88.6],
        [167.6, 75.5], [186.7, 101.4], [175.3, 91.1], [175.3, 67.3], [175.9, 77.7],
        [175.3, 81.8], [179.1, 75.5], [181.6, 84.5], [177.8, 76.6], [182.9, 85.0],
        [177.8, 102.5], [184.2, 77.3], [179.1, 71.8], [176.5, 87.9], [188.0, 94.3],
        [174.0, 70.9], [167.6, 64.5], [170.2, 77.3], [167.6, 72.3], [188.0, 87.3],
        [174.0, 80.0], [176.5, 82.3], [180.3, 73.6], [167.6, 74.1], [188.0, 85.9],
        [180.3, 73.2], [167.6, 76.3], [183.0, 65.9], [183.0, 90.9], [179.1, 89.1],
        [170.2, 62.3], [177.8, 82.7], [179.1, 79.1], [190.5, 98.2], [177.8, 84.1],
        [180.3, 83.2], [180.3, 83.2]
    ]
}
// 年龄分布
function loadfamilyAgeChart(obj) {
    var agechart = echarts.init(document.getElementById('familyAgeChart'))
    var option = {
        title : {
            //text: '孕妇年龄分布',
            //subtext: '抽样调查来自: Heinz  2003'
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        tooltip : {
            trigger: 'item',
            showDelay : 0,
            formatter : function (params) {
                if (params.value.length > 1) {
                    return params.seriesName + ' :<br/>'
                        + params.value[0] + '岁 '
                        + params.value[1] + ' 万';
                }
                else {
                    return params.seriesName + ' :<br/>'
                        + params.name + ' : '
                        + params.value + '岁 ';
                }
            },
            axisPointer:{
                show: false,
                type : 'cross',
                lineStyle: {
                    type : 'dashed',
                    width : 1
                }
            }
        },
        legend: {
            data: obj.label,
            left: 'center',
            textStyle: {
                color: '#5891A2',
                fontSize: '16'
            },
        },
        xAxis : [
            {
                type : 'value',
                scale:true,
                axisLabel : {
                    formatter: '{value} ',
                    textStyle: {
                        color: '#03B4E3'
                    }
                },
                name:"数量(万)",
                nameTextStyle:{
                    color:"#03B4E3",

                },
                axisTick:{
                    lineStyle:{
                        color:"#03B4E3"
                    }
                },
                axisLine:{
                    lineStyle:{
                        color:"#03B4E3"
                    }
                },
                splitLine: {
                    show:false,
                    lineStyle: {
                        type: 'dashed'
                    }
                }
            }
        ],
        yAxis : [
            {
                type : 'value',
                scale:true,
                name:"年龄",
                nameTextStyle:{
                    color:"#03B4E3"
                },
                axisLabel : {
                    formatter: '{value}',
                    textStyle: {
                        color: '#03B4E3'
                    }
                },
                axisTick:{
                    lineStyle:{
                        color:"#03B4E3"
                    }
                },
                axisLine:{
                    lineStyle:{
                        color:"#03B4E3"
                    }
                },
                splitLine: {
                    show:false,
                    lineStyle: {
                        type: 'dashed'
                    }
                },
            }
        ],
        series : [
            {
                name:'一胎',
                type:'scatter',
                data: obj.one,
                // markPoint : {
                //     data : [
                //         {type : 'max', name: '最大值'},
                //         {type : 'min', name: '最小值'}
                //     ]
                // },
                // markLine : {
                //     data : [
                //         {type : 'average', name: '平均值'}
                //     ]
                // },
                itemStyle: {
                    normal: {
                        color: '#FC4A76'
                    }
                }
            },
            {
                name:'二胎',
                type:'scatter',
                data:obj.two,
                // markPoint : {
                //     data : [
                //         {type : 'max', name: '最大值'},
                //         {type : 'min', name: '最小值'}
                //     ]
                // },
                // markLine : {
                //     data : [
                //         {type : 'average', name: '平均值'}
                //     ]
                // },
                itemStyle: {
                    normal: {
                        color: '#30C4F8'
                    }
                }
            },

            {
                name:'不分胎次',
                type:'scatter',
                data:obj.other,
                // markPoint : {
                //     data : [
                //         {type : 'max', name: '最大值'},
                //         {type : 'min', name: '最小值'}
                //     ]
                // },
                // markLine : {
                //     data : [
                //         {type : 'average', name: '平均值'}
                //     ]
                // },
                itemStyle: {
                    normal: {
                        color: '#FED03D'
                    }
                }
            }
        ]
    };
    agechart.setOption(option)
}

/**
 *  刷新页面信息
 */
function chartReLoad() {
    loadFamilyChart(areaData)
    loadageFamilyTotalChart(data)
    loadFamilyTypeChart(FamilyTye)
    loadfamilyAgeChart(familyAgeData)
    setMeg(msg)
}

$(function () {
    timelineHandle(arr)
})
