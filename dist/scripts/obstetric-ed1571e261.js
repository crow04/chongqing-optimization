"use strict";var areaData=[{name:"渝中区",value:1.2},{name:"万州区",value:4.12},{name:"涪陵区",value:9.8},{name:"大渡口区",value:2.36},{name:"江北区",value:4},{name:"璧山区",value:4.1},{name:"沙坪坝区",value:5.9},{name:"九龙坡区",value:6.9},{name:"南岸区",value:9},{name:"北碚区",value:5.6},{name:"綦江区",value:6.9},{name:"巫山县",value:5.9},{name:"大足区",value:3.9},{name:"渝北区",value:1.69},{name:"巴南区",value:2.69},{name:"黔江区",value:1.69},{name:"长寿区",value:9},{name:"江津区",value:5.9},{name:"合川区",value:2.9},{name:"永川区",value:6.9},{name:"南川区",value:5.9},{name:"铜梁区",value:9},{name:"潼南区",value:2},{name:"荣昌区",value:5},{name:"开州区",value:6.9},{name:"梁平区",value:9},{name:"武隆区",value:3.22},{name:"城口县",value:5.9},{name:"丰都县",value:5.9},{name:"垫江县",value:5.9},{name:"忠县",value:6.9},{name:"云阳县",value:9},{name:"奉节县",value:6.9},{name:"巫山县",value:3.2},{name:"巫溪县",value:3},{name:"石柱土家族自治县",value:1.5},{name:"秀山土家族苗族自治县",value:1.11},{name:"酉阳土家族苗族自治县",value:6.9},{name:"彭水苗族土家族自治县",value:3.69}],indicatorsChartData={x:["门急诊就诊人次","住院人次"],y:[16346,2309]},childbearingChartData=[{name:"总人口数",value:4396},{name:"育龄妇女人数",value:800}],ChildbearingChartDescData={num:{name:"育龄妇女人数",value:818},rate:{name:"育龄妇女人数",value:23.6}},indicatorsDescData=[{name:"预计全市所需产科数(个)",value:"3667"},{name:"全市缺口占比",value:"5.1%"},{name:"全国缺口占比",value:"5.7%"}],warningDescData=[{name:"育龄妇女人数（万人）",value:"199"},{name:"区内所需产科数",value:"744"},{name:"区内缺口占比",value:"5.24%"}],arr=[2016,2017,2018,2019,2020,2021,2022,2023,2024];function loadHealthResourceChart(n){var i={"渝中区":[106.56288,29.556742],"万州区":[108.380246,30.807807],"涪陵区":[107.394905,29.703652],"大渡口区":[106.48613,29.481002],"江北区":[106.532844,29.575352],"沙坪坝区":[106.4542,29.541224],"九龙坡区":[106.364269,29.428456],"南岸区":[106.560813,29.523992],"北碚区":[106.437868,29.82543],"綦江区":[106.651417,29.028091],"大足区":[105.715319,29.700498],"渝北区":[106.512851,29.601451],"巴南区":[106.519423,29.381919],"黔江区":[108.782577,29.527548],"长寿区":[107.074854,29.833671],"江津区":[106.253156,29.283387],"合川区":[106.265554,29.990993],"永川区":[105.894714,29.348748],"南川区":[107.098153,29.156646],"璧山区":[106.231126,29.593581],"铜梁区":[106.054948,29.839944],"潼南区":[105.841818,30.189554],"荣昌区":[105.594061,29.403627],"开州区":[108.413317,31.167735],"梁平区":[107.800034,30.672168],"武隆区":[107.75655,29.32376],"城口县":[108.6649,31.946293],"丰都县":[107.73248,29.866424],"垫江县":[107.348692,30.330012],"忠县":[108.037518,30.291537],"云阳县":[108.697698,30.930529],"奉节县":[109.465774,31.019967],"巫山县":[109.878928,31.074843],"巫溪县":[109.628912,31.3966],"石柱土家族自治县":[108.112448,29.99853],"秀山土家族苗族自治县":[108.996043,28.444772],"酉阳土家族苗族自治县":[108.767201,28.839828],"彭水苗族土家族自治县":[108.166551,29.293856]},t=function(a){for(var e=[],n=0;n<a.length;n++){var t=i[a[n].name];t&&e.push({name:a[n].name,value:t.concat(a[n].value),selected:a[n].selected})}return e}(n),l=echarts.init(document.getElementById("healthResourceChart"));l.showLoading(),n.sort(function(a,e){return e.value-a.value}),$.getJSON("../json/chongqing.json",function(a){echarts.registerMap("chongqing",a);var e={tooltip:{trigger:"item",formatter:function(a){return a.name+" : <br/>"+a.seriesName+" : "+a.data.value[2]+"‰"}},visualMap:{type:"continuous",show:!0,textStyle:{color:"#5891A2",fontWeight:"400",fontFamily:"MicrosoftYaHei",fontSize:"12px"},min:n[n.length-1].value,max:n[0].value,right:"100",bottom:"80",text:["资源缺口占比",""],calculable:!0,inRange:{color:["#318095","#254751","#1F3D45"]},formatter:function(a){return parseFloat(a).toFixed(2)+"‰"}},series:[{type:"map",map:"chongqing",name:"资源缺口占比",label:{normal:{formatter:function(a){return a.data.value[2]+"‰"},position:"right",show:!0,color:"#FFD750",width:100,height:30,borderColor:"#FFD750",borderWidth:1,borderRadius:5,padding:5},emphasis:{show:!0,color:"#FFD750"}},data:t,roam:!0,itemStyle:{normal:{areaColor:"#318095",borderColor:"#489099"},emphasis:{areaColor:"#123841",show:!1}}}]};l.hideLoading(),l.setOption(e)})}function LoadChildbearingChart(a){var e=echarts.init($("#childbearingChart")[0]),n={color:["#50717B","#EA598F"],tooltip:{trigger:"item",formatter:function(a){return a.data.name+"：<br>"+a.data.value+"万人"}},legend:{orient:"vertical",right:"20%",show:!1,align:"left",top:"middle",textStyle:{color:"#5FF2DF",fontSize:"16"},data:a},series:[{name:"育龄妇女人数",type:"pie",center:["35%","50%"],radius:["40%","55%"],clockwise:!1,avoidLabelOverlap:!0,label:{normal:{show:!1,position:"inner",formatter:function(a){return a.data.value+"万人"}}},data:a}]};e.setOption(n),e.dispatchAction({type:"highlight",dataIndex:1}),e.on("mouseover",function(a){e.dispatchAction({type:"highlight",dataIndex:1}),e.dispatchAction({type:"highlight",dataIndex:a.dataIndex})}),e.on("mouseout",function(a){e.dispatchAction({type:"highlight",dataIndex:1})})}function setIndicatorsDesc(a){for(var e=[],n=0;n<a.length;n++){var t=' <div class="item">\n    <div class="left-item">'+a[n].name+'</div>\n    <div class="right-item">'+a[n].value+"</div>\n</div>";e.push(t)}$("#zyzbms").empty().html(e.join(""))}function setWarningDesc(a){for(var e=[],n=0;n<a.length;n++){var t=' <div class="item">\n    <div class="left-item">'+a[n].name+'</div>\n    <div class="right-item">'+a[n].value+"</div>\n</div>";e.push(t)}$("#zyyjms").empty().html(e.join(""))}function chartReLoad(){loadHealthResourceChart(areaData),LoadChildbearingChart(childbearingChartData),setIndicatorsDesc(indicatorsDescData),setWarningDesc(warningDescData),setChildbearingChartDesc(ChildbearingChartDescData)}function timelineHandle(a){for(var e=[],n=0;n<a.length;n++){var t="<li>"+a[n]+"</li>";e.push(t)}$(".timeline").html(e.join("")),$(".timeline").off("click","li").on("click","li",function(){$(this).siblings("li").removeClass("active"),$(this).addClass("active");$(this).text();chartReLoad()}),$(".timeline").find("li").eq(0).trigger("click")}function setChildbearingChartDesc(a){var e=' <div class="childbearingChart-desc-item">\n    <p>育龄妇女人数</p>\n<p><span style="color:#5FC2F3">'+a.num.value+'<small>万人</small></span></p>\n</div>\n<div class="childbearingChart-desc-item">\n    <p>育龄妇女占总人口</p>\n    <p><span style="color:#EA598F">'+a.rate.value+"%</span></p>\n</div>";$(".childbearingChart-desc").html(e)}$(function(){timelineHandle(arr)});