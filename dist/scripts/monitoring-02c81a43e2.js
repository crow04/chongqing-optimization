"use strict";var arr=[2016,2017,2018,2019,2020,2021,2022,2023,2024],areaData=[{name:"渝中区",value:12},{name:"万州区",value:41},{name:"涪陵区",value:98},{name:"大渡口区",value:23},{name:"江北区",value:4},{name:"璧山区",value:41},{name:"沙坪坝区",value:59},{name:"九龙坡区",value:69},{name:"南岸区",value:9},{name:"北碚区",value:56},{name:"綦江区",value:69},{name:"巫山县",value:59},{name:"大足区",value:39},{name:"渝北区",value:16},{name:"巴南区",value:26},{name:"黔江区",value:16},{name:"长寿区",value:9},{name:"江津区",value:59},{name:"合川区",value:29},{name:"永川区",value:69},{name:"南川区",value:59},{name:"铜梁区",value:9},{name:"潼南区",value:20},{name:"荣昌区",value:5},{name:"开州区",value:69},{name:"梁平区",value:9},{name:"武隆区",value:32},{name:"城口县",value:59},{name:"丰都县",value:59},{name:"垫江县",value:59},{name:"忠县",value:69},{name:"云阳县",value:9},{name:"奉节县",value:69},{name:"巫山县",value:32},{name:"巫溪县",value:30},{name:"石柱土家族自治县",value:15},{name:"秀山土家族苗族自治县",value:111},{name:"酉阳土家族苗族自治县",value:69},{name:"彭水苗族土家族自治县",value:36}],warningDescData=[{name:"基本情况",value:"6989"},{name:"生育情况",value:"8793"},{name:"死亡情况",value:"8907"}];function loadMonitoringChart(e){var l={"渝中区":[106.56288,29.556742],"万州区":[108.380246,30.807807],"涪陵区":[107.394905,29.703652],"大渡口区":[106.48613,29.481002],"江北区":[106.532844,29.575352],"沙坪坝区":[106.4542,29.541224],"九龙坡区":[106.364269,29.428456],"南岸区":[106.560813,29.523992],"北碚区":[106.437868,29.82543],"綦江区":[106.651417,29.028091],"大足区":[105.715319,29.700498],"渝北区":[106.512851,29.601451],"巴南区":[106.519423,29.381919],"黔江区":[108.782577,29.527548],"长寿区":[107.074854,29.833671],"江津区":[106.253156,29.283387],"合川区":[106.265554,29.990993],"永川区":[105.894714,29.348748],"南川区":[107.098153,29.156646],"璧山区":[106.231126,29.593581],"铜梁区":[106.054948,29.839944],"潼南区":[105.841818,30.189554],"荣昌区":[105.594061,29.403627],"开州区":[108.413317,31.167735],"梁平区":[107.800034,30.672168],"武隆区":[107.75655,29.32376],"城口县":[108.6649,31.946293],"丰都县":[107.73248,29.866424],"垫江县":[107.348692,30.330012],"忠县":[108.037518,30.291537],"云阳县":[108.697698,30.930529],"奉节县":[109.465774,31.019967],"巫山县":[109.878928,31.074843],"巫溪县":[109.628912,31.3966],"石柱土家族自治县":[108.112448,29.99853],"秀山土家族苗族自治县":[108.996043,28.444772],"酉阳土家族苗族自治县":[108.767201,28.839828],"彭水苗族土家族自治县":[108.166551,29.293856]},n=function(e){for(var a=[],n=0;n<e.length;n++){var t=l[e[n].name];t&&a.push({name:e[n].name,value:t.concat(e[n].value)})}return a}(e),t=echarts.init(document.getElementById("monitoringChart"));t.showLoading(),e.sort(function(e,a){return a.value-e.value}),$.getJSON("../json/chongqing.json",function(e){echarts.registerMap("chongqing",e);var a={title:{},tooltip:{trigger:"item",formatter:function(e){return e.name+" : <br/>"+e.seriesName+" : "+e.data.value[2]}},geo:{map:"chongqing",itemStyle:{normal:{areaColor:"#123841",borderColor:"#489099"},emphasis:{areaColor:"#254751"}},roam:!0,label:{normal:{show:!1},emphasis:{show:!1}}},series:[{name:"监测点数量",type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{period:4,brushType:"stroke",scale:6,color:"#FFDA57"},label:{normal:{show:!1,position:"right",formatter:"{b}",textStyle:{color:"#FFD756"}}},itemStyle:{},symbolSize:function(e){return e[2]/5},data:n,formatter:"{b}"}]};t.hideLoading(),t.setOption(a)})}var data=[{name:"机构",value:88},{name:"乡镇",value:32}];function loadMonitoringTypeChart(e){var a={color:["#0999AB","#385ADD"],tooltip:{trigger:"item",formatter:function(e){return e.data.name+"：<br>"+e.data.value+"个"}},legend:{align:"left",bottom:"10%",textStyle:{color:"#5FF2DF",fontSize:"16"},itemGap:10,itemWidth:30,itemHeight:20,data:e},series:[{name:"年龄结构",type:"pie",radius:["40%","65%"],clockwise:!1,avoidLabelOverlap:!0,label:{normal:{show:!0,position:"inner",formatter:function(e){return e.data.value+"个"}}},data:e}]};echarts.init(document.getElementById("monitoringTypeChart")).setOption(a)}function setWarningDesc(e){for(var a=[],n=0;n<e.length;n++){var t=' <div class="item" style="width:280px;padding:20px;">\n        <div class="left-item" style="font-size:18px">'+e[n].name+'</div>\n        <div class="right-item">'+e[n].value+"</div>\n    </div>";a.push(t)}$("#jcdnrsl").empty().html(a.join(""))}function chartReLoad(){setWarningDesc(warningDescData),loadMonitoringChart(areaData),loadMonitoringTypeChart(data)}function timelineHandle(e){for(var a=[],n=0;n<e.length;n++){var t="<li>"+e[n]+"</li>";a.push(t)}$(".timeline").html(a.join("")),$(".timeline").off("click","li").on("click","li",function(){$(this).siblings("li").removeClass("active"),$(this).addClass("active");$(this).text();chartReLoad()}),$(".timeline").find("li").eq(0).trigger("click")}$(function(){timelineHandle(arr)});